## Solution File: Linux Landmarks

The point of this exercise is to practice navigating the file structure and gather the files asked for in the administrator document.

Completing this task requires:

- Creating a research directory.

- Inspecting `/`, `/etc`, `/var` and `/home` directories.

- Copying suspicious files with `cp`.

- Creating lists with `>`.

- Finding three suspicious files and copying them to the research folder.

Being able to quickly navigate a system and perform these tasks are very common in the life of a system administrator. A quick scan of a system can be a useful first step when investigating a system.

### Walkthrough

Log into the lab environment with the username `sysadmin` and password `cybersecurity`.

- Run `mkdir ~/research` to create a research directory in our home directory. 

- Run `ls /` to list all files in the root directory

The list contains a bare file: `/user.hashes`. This is suspicious, so it should be copied to the research directory.

- Run `cp /user.hashes ~/research` to copy the file to our research directory.  ### this file is not present when you do cd as said above

Remember, the `/home` directory stores all of the users’ home folders.

- Run ls `/home` to list all user directories.

There are only home folders here and nothing seems out of place.

- Run `ls -R /home > ~/research/files_in_home.txt` to save this list of files to the research directory.

You should follow up by checking that each user with a directory in `/home` has an entry in `/etc/passwd` and `/etc/shadow`. This indicates that they are an active user of the machine.

- Run `cd /etc` to move to `/etc`.

Inspect the contents of `/etc/shadow` and `/etc/passwd`.

- Run `less /etc/passwd`

- Run `less /etc/shadow`

- All users with directories in `/home` appear to have entries in these files.

Copy these files to your research directory with the following commands:

- Run `sudo cp /etc/passwd ~/research`

- Run `sudo cp /etc/shadow ~/research`

Note that `ls /home` also revealed home folders named `jack` and `http`. Copy these files to your research directory.

- Run `sudo cp /home/jack ~/research/`

- Run `sudo cp /home/http ~/research/`

In addition to verifying that all users on the system have active accounts, you should keep records of which programs users have installed on the system.

Inspect the lists of installed software:

- Run `ls /bin`

- Run `ls /sbin`

You should recognize many programs in the `/bin `and `/sbin` directories, like `ls`, `bash`, `cp` and `grep`. These are known as the built-in programs.

Save a list of all programs in `/bin` and `/sbin` for later analysis with the following commands:

- Run `ls /bin > ~/research/files_in_bin.txt`

- Run `ls /sbin > ~/research/files_in_sbin.txt`

- Run `apt list --installed > ~/research/software_installed_by_admin.txt` to save a list of programs the administrator has installed.

These files will be used by the Forensics and IT teams to determine whether users have managed to install unauthorized software.

The next step is to copy the logs generated by these programs. Since log files are expected to change on a regular basis, they are variable files, which live in `/var/logs`.

- Run `ls /var/logs` to inspect the files in this directory.

    - This server is generating authorization logs, but not firewall logs.

Copy these files into our research directory:

- Run `cp /var/logs/* ~/research/logs`.

Next, we’ll move into our `/tmp` directory. 

- Run `ls /tmp`.

This directory contains a shell script, called `str.sh`. Like `rev.sh`, this file is out of place, and should be saved for later analysis.

- Run `cp /home/max/Documents/str.sh ~/research` to copy this file into your research folder.


-------

© 2020 Trilogy Education Services, a 2U, Inc. brand. All Rights Reserved.

